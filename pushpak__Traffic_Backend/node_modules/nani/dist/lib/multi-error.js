"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MultiError = void 0;
const nani_error_1 = require("./nani-error");
const lodash_1 = require("lodash");
class MultiError extends nani_error_1.NaniError {
    constructor(...args) {
        const errors = (0, lodash_1.isArray)(args[0]) ? args[0] : args;
        const [cause] = errors;
        let shortMessage;
        if (cause) {
            shortMessage = `First of ${errors.length} errors`;
        }
        else {
            shortMessage = "Empty MultiError";
        }
        super({ shortMessage, cause });
        this.errors = errors;
        if (cause) {
            const causeMessage = cause.shortMessage || cause.message;
            this.shortMessage += ` : ${causeMessage}`;
        }
    }
}
exports.MultiError = MultiError;
//# sourceMappingURL=multi-error.js.map